

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>SSE evolution model &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Binary star evolution" href="BSE.html" />
    <link rel="prev" title="SSE class hierarchy" href="SSE-class-hierarchy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer-guide.html">Developer guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="SSE.html">Single star evolution</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="SSE-class-hierarchy.html">SSE class hierarchy</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">SSE evolution model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="BSE.html">Binary star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-ids.html">Object identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="floating-point-comparisons.html">Floating-point comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants-dot-h.html">Constants source file</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Change log</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-style.html">Programming style</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer-building-compas.html">COMPAS build methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="developer-guide.html">Developer guide</a> &raquo;</li>
        
          <li><a href="SSE.html">Single star evolution</a> &raquo;</li>
        
      <li>SSE evolution model</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="sse-evolution-model">
<h1>SSE evolution model<a class="headerlink" href="#sse-evolution-model" title="Permalink to this headline">¶</a></h1>
<p>The high-level stellar evolution model is shown in <a class="reference internal" href="#fig-2"><span class="std std-ref">Figure 2</span></a>.</p>
<div class="align-center figure" id="id1">
<span id="fig-2"></span><a class="reference internal image-reference" href="_images/SSE-flow-chart-compressed.svg"><img alt="SSE flow chart" height="800px" src="_images/SSE-flow-chart-compressed.svg" width="530px" /></a>
<p class="caption"><span class="caption-text">Figure 2 High-level SSE evolution.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The stellar evolution model is driven by the <code class="docutils literal notranslate"><span class="pre">Evolve()</span></code> function in the <code class="docutils literal notranslate"><span class="pre">Star</span></code> class, which evolves the star through its entire lifetime
by doing the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DO</span><span class="p">:</span>
    <span class="mf">1.</span> <span class="n">calculate</span> <span class="n">time</span> <span class="n">step</span>

        <span class="n">a</span><span class="p">)</span> <span class="n">calculate</span> <span class="n">the</span> <span class="n">giant</span> <span class="n">branch</span> <span class="n">parameters</span> <span class="p">(</span><span class="k">as</span> <span class="n">necessary</span><span class="p">)</span>
        <span class="n">b</span><span class="p">)</span> <span class="n">calculate</span> <span class="n">the</span> <span class="n">timescales</span><span class="o">|</span>
        <span class="n">c</span><span class="p">)</span> <span class="n">choose</span> <span class="n">time</span> <span class="n">step</span>

    <span class="mf">2.</span> <span class="n">save</span> <span class="n">the</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">underlying</span> <span class="n">star</span> <span class="nb">object</span>

    <span class="mf">3.</span> <span class="n">DO</span><span class="p">:</span>

           <span class="n">a</span><span class="p">)</span> <span class="n">evolve</span> <span class="n">a</span> <span class="n">single</span> <span class="n">time</span> <span class="n">step</span>
           <span class="n">b</span><span class="p">)</span> <span class="k">if</span> <span class="n">too</span> <span class="n">much</span> <span class="n">change</span>

                <span class="n">i</span><span class="p">)</span> <span class="n">revert</span> <span class="n">to</span> <span class="n">the</span> <span class="n">saved</span> <span class="n">state</span>
               <span class="n">ii</span><span class="p">)</span> <span class="n">reduce</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">time</span> <span class="n">step</span>

       <span class="n">UNTIL</span> <span class="n">timestep</span> <span class="ow">not</span> <span class="n">reduced</span>

    <span class="mf">4.</span> <span class="n">resolve</span> <span class="nb">any</span> <span class="n">mass</span> <span class="n">loss</span>

       <span class="n">a</span><span class="p">)</span> <span class="n">update</span> <span class="n">initial</span> <span class="n">mass</span> <span class="p">(</span><span class="n">mass0</span><span class="p">)</span>
       <span class="n">b</span><span class="p">)</span> <span class="n">update</span> <span class="n">age</span> <span class="n">after</span> <span class="n">mass</span> <span class="n">loss</span>
       <span class="n">c</span><span class="p">)</span> <span class="n">apply</span> <span class="n">mass</span> <span class="n">transfer</span> <span class="n">rejuvenation</span> <span class="n">factor</span>

    <span class="mf">5.</span> <span class="n">evolve</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">stellar</span> <span class="nb">type</span> <span class="k">if</span> <span class="n">necessary</span>

<span class="n">WHILE</span> <span class="n">the</span> <span class="n">underlying</span> <span class="n">star</span> <span class="nb">object</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">one</span> <span class="n">of</span><span class="p">:</span> <span class="p">{</span> <span class="n">HeWD</span><span class="p">,</span> <span class="n">COWD</span><span class="p">,</span> <span class="n">ONeWD</span><span class="p">,</span> <span class="n">NS</span><span class="p">,</span> <span class="n">BH</span><span class="p">,</span> <span class="n">MR</span> <span class="p">}</span>
</pre></div>
</div>
<p>Evolving the star through a single time step (step 3a above) is driven by the <code class="docutils literal notranslate"><span class="pre">UpdateAttributesAndAgeOneTimestep()</span></code> function in the
<code class="docutils literal notranslate"><span class="pre">BaseStar</span></code> class which does the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. check if the star should be a massless remnant
2. check if the star is a supernova
3. if evolution on the phase should be performed
     a) evolve the star on the phase – update stellar attributes
     b) check if the star should evolve off the current phase to a different stellar type
   else
     c) ready the star for the next time step
</pre></div>
</div>
<p>Evolving the star on its current phase, and off the current phase and preparing to evolve to a different stellar type, is handled by
two functions in the <code class="docutils literal notranslate"><span class="pre">BaseStar</span></code> class: <code class="docutils literal notranslate"><span class="pre">EvolveOnPhase()</span></code> and <code class="docutils literal notranslate"><span class="pre">ResolveEndOfPhase()</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">EvolveOnPhase()</span></code> function does the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mf">1.</span> <span class="n">Calculate</span> <span class="n">Tau</span>
 <span class="mf">2.</span> <span class="n">Calculate</span> <span class="n">CO</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">3.</span> <span class="n">Calculate</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">4.</span> <span class="n">Calculate</span> <span class="n">He</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">5.</span> <span class="n">Calculate</span> <span class="n">Luminosity</span>
 <span class="mf">6.</span> <span class="n">Calculate</span> <span class="n">Radius</span>
 <span class="mf">7.</span> <span class="n">Calculate</span> <span class="n">Perturbation</span> <span class="n">Mu</span>
 <span class="mf">8.</span> <span class="n">Perturb</span> <span class="n">Luminosity</span> <span class="ow">and</span> <span class="n">Radius</span>
 <span class="mf">9.</span> <span class="n">Calculate</span> <span class="n">Temperature</span>
<span class="mf">10.</span> <span class="n">Resolve</span> <span class="n">possible</span> <span class="n">envelope</span> <span class="n">loss</span>
</pre></div>
</div>
<p>Each of the calculations in the <code class="docutils literal notranslate"><span class="pre">EvolveOnPhase()</span></code> function is performed in the context of the star evolving on its current phase.
Each of the classes implements their own version of the calculations (via member functions) – some may inherit functions from the
inheritance chain, while others might just return the value unchanged if the calculation is not relevant to their stellar type.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ResolveEndOfPhase()</span></code> function does the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mf">1.</span> <span class="n">Resolve</span> <span class="n">possible</span> <span class="n">envelope</span> <span class="n">loss</span>
 <span class="mf">2.</span> <span class="n">Calculate</span> <span class="n">Tau</span>
 <span class="mf">3.</span> <span class="n">Calculate</span> <span class="n">CO</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">4.</span> <span class="n">Calculate</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">5.</span> <span class="n">Calculate</span> <span class="n">He</span> <span class="n">Core</span> <span class="n">Mass</span>
 <span class="mf">6.</span> <span class="n">Calculate</span> <span class="n">Luminosity</span>
 <span class="mf">7.</span> <span class="n">Calculate</span> <span class="n">Radius</span>
 <span class="mf">8.</span> <span class="n">Calculate</span> <span class="n">Perturbation</span> <span class="n">Mu</span>
 <span class="mf">9.</span> <span class="n">Perturb</span> <span class="n">Luminosity</span> <span class="ow">and</span> <span class="n">Radius</span>
<span class="mf">10.</span> <span class="n">Calculate</span> <span class="n">Temperature</span>
<span class="mf">11.</span> <span class="n">Evolve</span> <span class="n">star</span> <span class="n">to</span> <span class="nb">next</span> <span class="n">phase</span>
</pre></div>
</div>
<p>Each of the calculations in the <code class="docutils literal notranslate"><span class="pre">ResolveEndOfPhase()</span></code> function is performed in the context of the star evolving off its current
phase to the next phase. The remainder of the code (in general terms) supports these main driver functions.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="BSE.html" class="btn btn-neutral float-right" title="Binary star evolution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="SSE-class-hierarchy.html" class="btn btn-neutral float-left" title="SSE class hierarchy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>