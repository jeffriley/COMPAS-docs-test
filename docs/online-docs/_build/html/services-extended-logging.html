

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Extended logging &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Logging macros" href="services-logging-debugging-macros-logging.html" />
    <link rel="prev" title="Log::Enabled()" href="services-base-level-logging-func-enabled.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer-guide.html">Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="SSE.html">Single star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="BSE.html">Binary star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-ids.html">Object identifiers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="services.html">Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="services-program-options.html">Program options service</a></li>
<li class="toctree-l3"><a class="reference internal" href="services-random-numbers.html">Random numbers service</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="services-logging-debugging.html">Logging &amp; debugging service</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="services-base-level-logging.html">Base-level logging</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Extended logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="services-logging-debugging-macros-logging.html">Logging macros</a></li>
<li class="toctree-l4"><a class="reference internal" href="services-logging-debugging-macros-debugging.html">Debugging macros</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="services-error-handling.html">Error handling service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="floating-point-comparisons.html">Floating-point comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants-dot-h.html">Constants source file</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Change log</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-style.html">Programming style</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer-building-compas.html">COMPAS build methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="developer-guide.html">Developer guide</a> &raquo;</li>
        
          <li><a href="services.html">Services</a> &raquo;</li>
        
          <li><a href="services-logging-debugging.html">Logging &amp; debugging service</a> &raquo;</li>
        
      <li>Extended logging</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="extended-logging">
<h1>Extended logging<a class="headerlink" href="#extended-logging" title="Permalink to this headline">Â¶</a></h1>
<p>The extended logging service supports standard log files for both Single Star Evolution <code class="docutils literal notranslate"><span class="pre">(SSE</span></code>) and Binary Star
Evolution (<code class="docutils literal notranslate"><span class="pre">BSE</span></code>).</p>
<p>The standard log files defined are:</p>
<p>For <code class="docutils literal notranslate"><span class="pre">SSE</span></code>:</p>
<ul class="simple">
<li><p>SSE_System_Parameters log file</p></li>
<li><p>SSE_Supernovae log file</p></li>
<li><p>SSE_Detailed_Output log file</p></li>
<li><p>SSE_Switchlog log file</p></li>
</ul>
<p>For <code class="docutils literal notranslate"><span class="pre">BSE</span></code>:</p>
<ul class="simple">
<li><p>BSE_System_Parameters log file</p></li>
<li><p>BSE_Double_Compact Objects log file</p></li>
<li><p>BSE_Common_Envelopes log file</p></li>
<li><p>BSE_Supernovae log file</p></li>
<li><p>BSE_Pulsar_Evolution log file</p></li>
<li><p>BSE_RLOF_Parameters log file</p></li>
<li><p>BSE_Detailed_Output log file</p></li>
<li><p>BSE_Switchlog log file</p></li>
</ul>
<p>The Logging service maintains information about each of the standard log files, and will handle creating, opening, writing and
closing the files. For each execution of the COMPAS program, one (and only one) of each of the log files listed above that
pertain to the mode of evolution (<code class="docutils literal notranslate"><span class="pre">--mode</span></code> option, <code class="docutils literal notranslate"><span class="pre">SSE</span></code> or <code class="docutils literal notranslate"><span class="pre">BSE</span></code>) will be created, except for the <code class="docutils literal notranslate"><span class="pre">Detailed_Output</span></code>
log files, in which case there will be one log file created for each system (single star or binary star) evolved.</p>
<p>The Logging service provides the following public member functions specifically for managing standard log files:</p>
<p>For <code class="docutils literal notranslate"><span class="pre">SSE</span></code> log files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BOOL</span> <span class="n">LogSSESystemParameters</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Star</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogSSESupernovaDetails</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Star</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogSSEDetailedOutput</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Star</span><span class="p">,</span> <span class="n">CONST</span> <span class="nb">int</span> <span class="n">p_Id</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogSSESwitchLog</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Star</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
</pre></div>
</div>
<p>Each <code class="docutils literal notranslate"><span class="pre">SSE</span></code> function is passed a pointer to the single star for which details are to be logged (<code class="docutils literal notranslate"><span class="pre">p_Star</span></code>), and a string to be
written to the log file (<code class="docutils literal notranslate"><span class="pre">p_Rec</span></code>). If <code class="docutils literal notranslate"><span class="pre">p_Rec</span></code> is an empty string, the function constructs the log record from the current
attributes of the star and the default record specifier for the log file (see property vectors in <code class="docutils literal notranslate"><span class="pre">constants.h</span></code>,  e.g.
<code class="docutils literal notranslate"><span class="pre">SSE_DETAILED_OUTPUT_REC</span></code>). <code class="docutils literal notranslate"><span class="pre">LogSSEDetailedOutput()</span></code> is also passed an integer identifier (typically the loop index of the
star) that is appended to the log file name (<code class="docutils literal notranslate"><span class="pre">p_Id</span></code>).</p>
<p>For <code class="docutils literal notranslate"><span class="pre">BSE</span></code> log files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BOOL</span> <span class="n">LogBSESystemParameters</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogDoubleCompactObject</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogCommonEnvelope</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogBSESupernovaDetails</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogBSEPulsarEvolutionParameters</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogRLOFParameters</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogBSEDetailedOutput</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">long</span> <span class="nb">int</span> <span class="n">p_Id</span><span class="p">,</span> <span class="n">CONST</span> <span class="n">string</span> <span class="n">p_Rec</span><span class="p">)</span>
<span class="n">BOOL</span> <span class="n">LogBSESwitchLog</span><span class="p">(</span><span class="n">CONST</span> <span class="n">T</span><span class="o">*</span> <span class="n">CONST</span> <span class="n">p_Binary</span><span class="p">,</span> <span class="n">CONST</span> <span class="nb">bool</span> <span class="n">p_PrimarySwitching</span><span class="p">)</span>
</pre></div>
</div>
<p>Each <code class="docutils literal notranslate"><span class="pre">BSE</span></code> function is passed a pointer to the binary star for which details are to be logged (<code class="docutils literal notranslate"><span class="pre">p_Binary</span></code>), and a string to
be  written to the log file (<code class="docutils literal notranslate"><span class="pre">p_Rec</span></code>). If <code class="docutils literal notranslate"><span class="pre">p_Rec</span></code> is an empty string, the function constructs the log record from the current
attributes of the binary and the default record specifier for the log file (see property vectors in <code class="docutils literal notranslate"><span class="pre">constants.h</span></code>,  e.g.
<code class="docutils literal notranslate"><span class="pre">BSE_DETAILED_OUTPUT_REC</span></code>). <code class="docutils literal notranslate"><span class="pre">LogBSEDetailedOutput()</span></code> is also passed an integer identifier (typically the loop index of the
binary) that is appended to the log file name (<code class="docutils literal notranslate"><span class="pre">p_Id</span></code>).</p>
<p>Each of the functions listed above will, if necessary, create and open the appropriate log file. Internally the Log service opens
(creates first if necessary) once at first use, and keeps the files open for the life of the program.</p>
<p>The Log service provides a further two functions to manage standard log files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BOOL</span> <span class="n">CloseStandardFile</span><span class="p">()</span>
<span class="n">BOOL</span> <span class="n">CloseAllStandardFiles</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">CloseStandardFile()</span></code> flushes and closes a standard log file. The function returns a boolean indicating whether the log file was
closed successfully.</p>
<p><code class="docutils literal notranslate"><span class="pre">CloseAllStandardFiles()</span></code> flushes and closes all currently open standard log files. The function returns a boolean indicating
whether all standard log files were closed successfully.</p>
<p>Standard log file names are supplied via program options (e.g. <code class="docutils literal notranslate"><span class="pre">--logfile-system-parameters</span></code>), with default values declared in
<code class="docutils literal notranslate"><span class="pre">constants.h</span></code>.</p>
<p>The extended logging service always sets the log record <code class="docutils literal notranslate"><span class="pre">class</span></code> to the name of the standard log file being written to, and the
log record <code class="docutils literal notranslate"><span class="pre">level</span></code> to 0.  See <a class="reference internal" href="services-base-level-logging.html"><span class="doc">Base-level logging</span></a> for details regarding log record <code class="docutils literal notranslate"><span class="pre">class</span></code> and <code class="docutils literal notranslate"><span class="pre">level</span></code>.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="services-logging-debugging-macros-logging.html" class="btn btn-neutral float-right" title="Logging macros" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="services-base-level-logging-func-enabled.html" class="btn btn-neutral float-left" title="Log::Enabled()" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>