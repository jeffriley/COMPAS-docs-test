

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Building COMPAS locally &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating a Docker image" href="docker-developer.html" />
    <link rel="prev" title="COMPAS build methods" href="developer-building-compas.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer-guide.html">Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="SSE.html">Single star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="BSE.html">Binary star evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="object-ids.html">Object identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="floating-point-comparisons.html">Floating-point comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants-dot-h.html">Constants source file</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Change log</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-style.html">Programming style</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="developer-building-compas.html">COMPAS build methods</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Building COMPAS locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker-developer.html">Creating a Docker image</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="developer-guide.html">Developer guide</a> &raquo;</li>
        
          <li><a href="developer-building-compas.html">COMPAS build methods</a> &raquo;</li>
        
      <li>Building COMPAS locally</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="building-compas-locally">
<h1>Building COMPAS locally<a class="headerlink" href="#building-compas-locally" title="Permalink to this headline">Â¶</a></h1>
<p>A makefile is provided to build COMPAS locally (<code class="docutils literal notranslate"><span class="pre">Mkaefile</span></code>).  The Makefile provided defines a number of variables that can be
specified on the command line when <code class="docutils literal notranslate"><span class="pre">make</span></code> is run, including variables that allow the user to specify the compiler, the <cite>include</cite>
directory (for source header files), the <cite>lib</cite> directory (for shared libraries) for each external library required by COMPAS, and
the COMPAS executable name:</p>
<blockquote>
<div><p><strong>CPP</strong> <br />
Specifies the compiler to be used.  The default value is 'g++'.</p>
<p><strong>GSLINCDIR</strong> <br />
Specifies the <cite>include</cite> directory for the GNU scientific library, <code class="docutils literal notranslate"><span class="pre">gsl</span></code>.  The default value is '/include'.</p>
<p><strong>GSLLIBDIR</strong> <br />
Specifies the <cite>lib</cite> directory for the GNU scientific library, <code class="docutils literal notranslate"><span class="pre">gsl</span></code>.  The default value is '/lib'.</p>
<p><strong>BOOSTINCDIR</strong> <br />
Specifies the <cite>include</cite> directory for the BOOST library.  The default value is '/include'</p>
<p><strong>BOOSTLIBDIR</strong> <br />
Specifies the <cite>lib</cite> directory for the BOOST library.  The default value is '/lib'.</p>
<p><strong>HDF5INCDIR</strong> <br />
Specifies the <cite>include</cite> directory for the HDF5 library.  The default value is '/usr/include/hdf5/serial'</p>
<p><strong>HDF5LIBDIR</strong> <br />
Specifies the <cite>lib</cite> directory for the HDF5 library.  The default value is '/usr/lib/x86_64-linux-gnu/hdf5/serial'</p>
<p><strong>EXE</strong> <br />
Specifies the name of the COMPAS exectuable to be built.  The default is 'COMPAS'</p>
</div></blockquote>
<p>For example, typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>make GCC=c++ EXE=mycompas -j$(nproc)
</pre></div>
</div>
<p>will cause the <cite>c++</cite> compiler to be used to create the executable file 'mycompas', using all available cores.</p>
<p>The makefile provided also defines several entry points:</p>
<blockquote>
<div><p><strong>clean</strong> <br />
Instructs <code class="docutils literal notranslate"><span class="pre">make</span></code> to remove all existing object files (.o), and the COMPAS executable.  A subsequent <code class="docutils literal notranslate"><span class="pre">make</span></code> is then forced to
compile all source files and link the resultant object files (and external libraries) into a new executable.</p>
<p><strong>static</strong> <br />
Specifies that functions in the external libraries referenced by COMPAS should be statically linked - that is, they are copied into
the COMPAS executable.  The default executable name for the <em>static</em> entry point is <cite>COMPAS_STATIC</cite>.</p>
<p><strong>fast</strong> <br />
Adds <cite>-march=native</cite> and <cite>-O3</cite> to the compiler flags.</p>
<blockquote>
<div><ul class="simple">
<li><p>specifying <cite>-march=native</cite> enables all instruction subsets supported by the compiling machine, thus producing an executable
file that will perform better than it would if the full native instruction set was not available.  Care should be taken when
using the executable created from this entry point - some of the native instructions may not be available for use on machines
of different architectures, so the resultant executable file is not necessarily portable.</p></li>
<li><p>specifying <cite>-O3</cite> causes the compiler to perform many optimisations to produce an executable that is optimised for performance
(at the expense of compile time).<a class="footnote-reference brackets" href="#f1" id="id1">1</a></p></li>
</ul>
</div></blockquote>
<p><strong>staticfast</strong> <br />
The functionality of the <strong>static</strong> and <strong>fast</strong> entry points combined.</p>
</div></blockquote>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html">https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html</a></p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="docker-developer.html" class="btn btn-neutral float-right" title="Creating a Docker image" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="developer-building-compas.html" class="btn btn-neutral float-left" title="COMPAS build methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>