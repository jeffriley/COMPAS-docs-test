

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Cosmic integration &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The COMPAS class" href="../../../notebooks/cosmicIntegration/1_ClassCOMPAS.html" />
    <link rel="prev" title="Reading HDF5 files" href="../../../notebooks/H5/2_readingH5.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Getting%20started/getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user-guide.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Program%20options/program-options.html">Program options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grid-files.html">Grid files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random-seed.html">Random seed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Running%20COMPAS/running-compas.html">Running COMPAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../COMPAS%20output/output.html">COMPAS output</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="post-processing.html">Post-processing tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="post-processing-python-basics.html">Some Python basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="post-processing-hdf5.html">Processing HDF5 files</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Cosmic integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/1_ClassCOMPAS.html">Class COMPAS: setting the data.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/2_MSSFR-or-SFRD-prescriptions.html">Class MSSFR: choose a model and plot it.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/3_SelectionEffects.html">Selection effects module: choose the sensitivity and estimate detection probability.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/4_MergersAtSingleRedshift.html">Rate at a single redshift: combine data, MSSFR, and selection effects.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/5_MergersAsFunctionOfRedhisft.html">Class CosmicIntegrator: rate as a function of redshift.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/cosmicIntegration/6_FastCosmicIntegrator.html">Fast cosmic integration module: do it all in one go!</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorial/example-compas-run.html">Tutorial: simple COMPAS run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer%20guide/developer-guide.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../user-guide.html">User guide</a> &raquo;</li>
        
          <li><a href="post-processing.html">Post-processing tools</a> &raquo;</li>
        
      <li>Cosmic integration</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="cosmic-integration">
<h1>Cosmic integration<a class="headerlink" href="#cosmic-integration" title="Permalink to this headline">¶</a></h1>
<p>This section contains a series of tutorials on how to use and get the most out of the COMPAS Cosmic Integration tools. The COMPAS
Cosmic Integration tools are based on work done in <span id="id1">[<a class="reference internal" href="../../references.html#id15" title="Coenraad J. Neijssel, Alejandro Vigna-Gómez, Simon Stevenson, Jim W. Barrett, Sebastian M. Gaebel, Floor S. Broekgaarden, Selma E. de Mink, Dorottya Szécsi, Serena Vinciguerra, and Ilya Mandel. The effect of the metallicity-specific star formation history on double compact object mergers. \mnras , 490(3):3740-3759, Dec 2019. arXiv:1906.08136, doi:10.1093/mnras/stz2840.">Neijssel <em>et al.</em>, 2019</a>]</span>.</p>
<p>The duration from the birth of the binary until the merger as a double compact object (DCO) can range from a few million years
(lifetime of the stars) to more than 100 Gigayears depending on the evolution of the system.</p>
<p>This means two things:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>DCOs merge at different redshifts</p></li>
<li><p>Multiple DCOs merging at a specific redshift could have formed at different times</p></li>
</ol>
</div></blockquote>
<p>We thus need to know the star formation that went into forming a single system. However, the star formation rate is non-constant over
the lifetime of the universe. Furthermore, star formation is heavily dependent on the metallicity of the star forming gas, which also
changes over the lifetime of the universe. Combined, we call this the metallicity-specific star formation rate (MSSFR).</p>
<p>The cosmic-integration pipeline tries to predict the population of DCO mergers assuming a model for the MSSFR. Here we show how to use
the combination of scripts: we show the purpose of each script in the pipeline, and how to combine them to derive our results. These
notes show how to call the functions, and how to construct the pipeline: they do not offer any derivations. We assume that you have a
COMPAS data set in <code class="docutils literal notranslate"><span class="pre">HDF5</span></code> file format. If not, see [COMPAS h5 files.](../../notebooks/H5/0_H5Overview.ipynb).</p>
<p>Note that although these pipelines are tailored for a COMPAS simulation, with some slight adjustments one could use these same
pipelines for other (mock-)simulations, provided all the information is given (see section 7 of
<a class="reference internal" href="../../../notebooks/cosmicIntegration/1_ClassCOMPAS.html"><span class="doc">class COMPAS</span></a>).</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/1_ClassCOMPAS.html">Class COMPAS: setting the data.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/2_MSSFR-or-SFRD-prescriptions.html">Class MSSFR: choose a model and plot it.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/3_SelectionEffects.html">Selection effects module: choose the sensitivity and estimate detection probability.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/4_MergersAtSingleRedshift.html">Rate at a single redshift: combine data, MSSFR, and selection effects.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/5_MergersAsFunctionOfRedhisft.html">Class CosmicIntegrator: rate as a function of redshift.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks/cosmicIntegration/6_FastCosmicIntegrator.html">Fast cosmic integration module: do it all in one go!</a></li>
</ul>
</div>
<p>If you make use of any these pipelines, we would appreciate you citing the following papers:</p>
<blockquote>
<div><ul class="simple">
<li><p>For Cosmic integration: <span id="id2">[<a class="reference internal" href="../../references.html#id15" title="Coenraad J. Neijssel, Alejandro Vigna-Gómez, Simon Stevenson, Jim W. Barrett, Sebastian M. Gaebel, Floor S. Broekgaarden, Selma E. de Mink, Dorottya Szécsi, Serena Vinciguerra, and Ilya Mandel. The effect of the metallicity-specific star formation history on double compact object mergers. \mnras , 490(3):3740-3759, Dec 2019. arXiv:1906.08136, doi:10.1093/mnras/stz2840.">Neijssel <em>et al.</em>, 2019</a>]</span> <br /></p></li>
<li><p>For Selection effects: <span id="id3">[<a class="reference internal" href="../../references.html#id3" title="Jim W. Barrett, Sebastian M. Gaebel, Coenraad J. Neijssel, Alejandro Vigna-Gomez, Simon Stevenson, Christopher P. L. Berry, Will M. Farr, and Ilya Mandel. Accuracy of inference on the physics of binary evolution from gravitational-wave observations. Mon. Not. Roy. Astron. Soc., 477(4):4685-4695, 2018. arXiv:1711.06287, doi:10.1093/mnras/sty908.">Barrett <em>et al.</em>, 2018</a>]</span></p></li>
</ul>
</div></blockquote>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../../notebooks/cosmicIntegration/1_ClassCOMPAS.html" class="btn btn-neutral float-right" title="The COMPAS class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../../notebooks/H5/2_readingH5.html" class="btn btn-neutral float-left" title="Reading HDF5 files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>