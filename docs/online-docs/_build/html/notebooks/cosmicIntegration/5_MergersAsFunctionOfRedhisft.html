

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>The CosmicIntegrator class &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The fast cosmic integration module" href="6_FastCosmicIntegrator.html" />
    <link rel="prev" title="Rate at a single redshift" href="4_MergersAtSingleRedshift.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../user-guide.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../program-options.html">Program options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grid-files.html">Grid files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../random-seed.html">Random seed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-cmdline.html">Running COMPAS from the command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-python.html">Running COMPAS via Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-docker.html">Running COMPAS via Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output.html">COMPAS Output</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../post-processing.html">Post-processing tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../post-processing-python-basics.html">Some Python basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../post-processing-hdf5.html">Processing HDF5 files</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../post-processing-cosmic-integration.html">Cosmic integration</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="1_ClassCOMPAS.html">Class COMPAS: setting the data.</a></li>
<li class="toctree-l4"><a class="reference internal" href="2_MSSFR-or-SFRD-prescriptions.html">Class MSSFR: choose a model and plot it.</a></li>
<li class="toctree-l4"><a class="reference internal" href="3_SelectionEffects.html">Selection effects module: choose the sensitivity and estimate detection probability.</a></li>
<li class="toctree-l4"><a class="reference internal" href="4_MergersAtSingleRedshift.html">Rate at a single redshift: combine data, MSSFR, and selection effects.</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Class CosmicIntegrator: rate as a function of redshift.</a></li>
<li class="toctree-l4"><a class="reference internal" href="6_FastCosmicIntegrator.html">Fast cosmic integration module: do it all in one go!</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../example-compas-run.html">Tutorial: simple COMPAS run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer-guide.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../user-guide.html">User guide</a> &raquo;</li>
        
          <li><a href="../../post-processing.html">Post-processing tools</a> &raquo;</li>
        
          <li><a href="../../post-processing-cosmic-integration.html">Cosmic integration</a> &raquo;</li>
        
      <li>The CosmicIntegrator class</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Magic function to set the backend of matplotlib to the &#39;inline&#39; backend</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="section" id="The-CosmicIntegrator-class">
<h1>The CosmicIntegrator class<a class="headerlink" href="#The-CosmicIntegrator-class" title="Permalink to this headline">¶</a></h1>
<div class="section" id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this headline">¶</a></h2>
<p>Here we show how to calculate the merger rate densities and observed probabilities for a population of double compact object mergers using the CosmicIntegrator class.</p>
<p>In reality this class is one major for loop to redo the calculation at a single redshift for different redshifts, and a range of metallicities.</p>
<p>The CosmicIntegrator class combines all the classes/modules that we presented in the cosmic integration notes. In addition it stores the results into several 2D arrays for easy plotting/binning, taking into account selection effects and volumes of the different redshift shells.</p>
<p>Here we show:</p>
<ul class="simple">
<li><p>How to set up the entire pipeline. The code specifically raises warnings/statements to help to remind you. This is simply a summary of the previous notes in the Cosmic Integration section.</p></li>
<li><p>How to calculate the rate and plot the results using the 2D arrays in the ClassCosmicIntegrator.</p></li>
<li><p>How to loop over variations efficiently to create different distributions.</p></li>
</ul>
</div>
<div class="section" id="1.1-Paths">
<h2>1.1 Paths<a class="headerlink" href="#1.1-Paths" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">pathNoteBook</span>    <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">pathScripts</span>     <span class="o">=</span> <span class="n">pathNoteBook</span> <span class="o">+</span> <span class="s1">&#39;/PythonScripts/&#39;</span>

<span class="n">pathData</span>        <span class="o">=</span> <span class="s1">&#39;/path-to-data/&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="1.2-Imports">
<h2>1.2 Imports<a class="headerlink" href="#1.2-Imports" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#custom scripts</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pathScripts</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">ClassCosmicIntegrator</span> <span class="c1">#this imports other routines by itself</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="2.-Creating-an-instance-of-the-CosmicIntegrator-class">
<h2>2. Creating an instance of the CosmicIntegrator class<a class="headerlink" href="#2.-Creating-an-instance-of-the-CosmicIntegrator-class" title="Permalink to this headline">¶</a></h2>
<p>The main thing that needs to be defined in this class is the universe and the number of shells for which we want to calculate the merger rate densities. In addition we also set the GW-detector here.</p>
<p>To this end, the following variables need to be defined in the instance:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#For Data
pathCOMPAS                  = None

#Defining Universe
Cosmology                   = &#39;WMAP&#39;
hubbleConstant              = 67.8
omegaMatter                 = 0.308
redshiftFirstSFR            = 10.0

#Defining integral
minRedshift                 = 0.0
maxRedshift                 = 2.0
nrRedshiftBins              = 20

#Method for calculating redshift from age
RedshiftTabulated           = True
RedshiftTabulatedResolution = 100000

#Detector
GWdetector_sensitivity      = &#39;O1&#39;
GWdetector_snrThreshold     = 8

#Print steps
verbose                     = False
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pathCOMPAS</span></code></p>
<p>Path to the h5-data.</p>
<p><code class="docutils literal notranslate"><span class="pre">Cosmology</span></code></p>
<p>Which of the astropy cosmology settings to use. Currently it takes either ‘WMAP’ or you set it to ‘Custom Flat’. If you do the latter you need to set the hubbleConstant and omegaMatter. In the case of ‘WMAP’ these are ignored and a predefined setting is used.</p>
<p><code class="docutils literal notranslate"><span class="pre">hubbleconstant</span></code></p>
<p>See Cosmology.</p>
<p><code class="docutils literal notranslate"><span class="pre">omegaMatter</span></code></p>
<p>See Cosmology.</p>
<p><code class="docutils literal notranslate"><span class="pre">redshiftFirstSFR</span></code></p>
<p>The highest redshift at which we assume the first stars are born. Any star born at a higher redshift is assigned a rate of zero.</p>
<p><code class="docutils literal notranslate"><span class="pre">minRedshift</span></code></p>
<p>The lowest limit/edge of the redshift bins for the integral.</p>
<p><code class="docutils literal notranslate"><span class="pre">maxRedshift</span></code></p>
<p>The upper limit/edge of the redshfit bins for the integral.</p>
<p><code class="docutils literal notranslate"><span class="pre">nrRedshiftBins</span></code></p>
<p>The number of bins in which to resolve the integral.</p>
<p><code class="docutils literal notranslate"><span class="pre">RedshiftTabulated</span></code></p>
<p>Boolean value used to determine the method to calculate redshift of universe based on age. The functions are slow and hence looking it up in a predefined table is quicker and still sub-percent precision. If True we use the table method. If False we use an alternative function, which might be more precise but it is order of magnitude slower.</p>
<p><code class="docutils literal notranslate"><span class="pre">RedshiftTabulatedResolution</span></code></p>
<p>The resolution of the table (in from 0- to redshift first SFR) to calculate ages. The default tabulated method has a precision of <span class="math notranslate nohighlight">\(dz = \frac{1}{10000}\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">GWdetector_sensitivity</span></code></p>
<p>The sensitivity curve assumed to estimate the signal-to-noise of a system.</p>
<p><code class="docutils literal notranslate"><span class="pre">GWdetector_snrThreshold</span></code></p>
<p>The single detecter signal-to-noise limit above which we define a system to be detectable.</p>
<p><code class="docutils literal notranslate"><span class="pre">verbose</span></code></p>
<p>If True progress messages will be printed during calculation.</p>
<div class="section" id="2.1-Creating-all-the-instances">
<h3>2.1 Creating all the instances<a class="headerlink" href="#2.1-Creating-all-the-instances" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#using the defaults</span>
<span class="n">CI</span> <span class="o">=</span> <span class="n">ClassCosmicIntegrator</span><span class="o">.</span><span class="n">CosmicIntegrator</span><span class="p">(</span><span class="n">pathCOMPAS</span><span class="o">=</span><span class="n">pathData</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Reminders of what to set in the following order:

ClassCOMPAS: Remember to self.setCOMPASDCOmask()
                    then self.setCOMPASData()
          and optionally self.setGridAndMassEvolved() if using a metallicity grid
ClassMSSFR: Remember to set self.SFRprescription() + sub-parts
                            self.Zprescription()   + sub-parts
                            set self.calculateMetallicityBinEdges()
ClassCosmicIntegrator: Remember to setBirthTimesAnd2Darrays()
                        to prepare calculation/results
                        do you have the GW-detector you want?
</pre></div></div>
</div>
<div class="section" id="2.1.1-Class-COMPAS">
<h4>2.1.1 Class COMPAS<a class="headerlink" href="#2.1.1-Class-COMPAS" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#Info python Submit and assumptions to recover Msun evovled</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">Mlower</span> <span class="o">=</span> <span class="mf">5.</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">Mupper</span> <span class="o">=</span> <span class="mf">150.</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">binaryFraction</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">setGridAndMassEvolved</span><span class="p">()</span>
<span class="c1"># which DCOs I want</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">setCOMPASDCOmask</span><span class="p">(</span><span class="n">types</span><span class="o">=</span><span class="s1">&#39;BBH&#39;</span><span class="p">,</span> <span class="n">pessimistic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Get me the data</span>
<span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">setCOMPASData</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2.1.2-Class-MSSFR">
<h4>2.1.2 Class MSSFR<a class="headerlink" href="#2.1.2-Class-MSSFR" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Pick the SFR model</span>
<span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">SFRprescription</span> <span class="o">=</span> <span class="s1">&#39;Neijssel et al. (2019)&#39;</span>
<span class="c1">#metallicity</span>
<span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">Zprescription</span> <span class="o">=</span> <span class="s1">&#39;logNormal&#39;</span>
<span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">logNormalPrescription</span> <span class="o">=</span><span class="s1">&#39;Neijssel Phenomenological&#39;</span>

<span class="c1">#Use the grid of the simulation</span>
<span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">metallicityGrid</span> <span class="o">=</span> <span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">metallicityGrid</span>
<span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">calculateMetallicityBinEdges</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2.1.3-Class-CosmicIntegrator">
<h4>2.1.3 Class CosmicIntegrator<a class="headerlink" href="#2.1.3-Class-CosmicIntegrator" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#Use the COMPAS data and redshift grid to define 2D arrays and precalculate</span>
<span class="c1">#values needed for quick integration. This takes a bit. That is why we do it outside</span>
<span class="c1">#all other functions. Say you want to calculate the rates for three different</span>
<span class="c1">#SFR models. These values don&#39;t change</span>
<span class="c1">#(they only change when the redshift shells or the data changes)</span>
<span class="c1">#Hence you do it once.</span>
<span class="n">CI</span><span class="o">.</span><span class="n">setBirthTimesAnd2Darrays</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="3.-Calculate-and-plot">
<h2>3. Calculate and plot<a class="headerlink" href="#3.-Calculate-and-plot" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># everthing is set so now so calculate :)</span>
<span class="n">CI</span><span class="o">.</span><span class="n">cosmologicalIntegration</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The results are stored in several different 2D arrays. Shown below is directly copied from source code:</p>
#################################################
#                                               #
#     the eventual results of interest          #
#     if we already have data we can set it     #
#     else we have to manually call tis function#
#################################################
#Calculating birth age is simple subtraction age-merger -delaytime
self.PerSystemPerRedshift_ageBirth       = None
#Cannot do this in redshift so convert table above to a redshift table
self.PerSystemPerRedshift_redshiftBirth  = None
# dN Gpc-3 per year at z=redshift.     #each row is redshift merger
self.PerSystemPerRedshift_ratesIntrinsic = None
# dN per year in detector from shell
self.PerSystemPerRedshift_ratesObserved  = None<p>These are 2D arrays where each row is a redshift and each column is a single system.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesIntrinsic</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">nrRedshiftBins</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">delayTimes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

(20, 304)
20
304
</pre></div></div>
</div>
<p>This means that each cell is the rate of a single system at a single redshift.</p>
<p>Now you can add rows/columns according to your interest. Examples are shown below.</p>
<div class="section" id="3.1-Example-rate-in-shell,-and-rate-as-function-of-redshift">
<h3>3.1 Example rate in shell, and rate as function of redshift<a class="headerlink" href="#3.1-Example-rate-in-shell,-and-rate-as-function-of-redshift" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#central redshift in the shell</span>
<span class="n">redshifts</span> <span class="o">=</span> <span class="n">CI</span><span class="o">.</span><span class="n">Shell_centerRedshift</span>
<span class="nb">print</span><span class="p">(</span><span class="n">redshifts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.05 0.15 0.25 0.35 0.45 0.55 0.65 0.75 0.85 0.95 1.05 1.15 1.25 1.35
 1.45 1.55 1.65 1.75 1.85 1.95]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#intrinsic merger rate of all systems at redshift of interest</span>
<span class="c1"># say I want to know it in the 10th shell which is centered around</span>
<span class="c1">#central redshift in the shell</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">Shell_centerRedshift</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
<span class="n">TotalIntrinsicRateAtSHell</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesIntrinsic</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">TotalIntrinsicRateAtSHell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.05
802.8766071665997
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot the intrinsic rate in shell</span>
<span class="n">z</span>         <span class="o">=</span> <span class="n">CI</span><span class="o">.</span><span class="n">Shell_centerRedshift</span>
<span class="c1">#Now use numpy to just collapse all values</span>
<span class="n">rate</span>      <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesIntrinsic</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;redshift&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;rate Intrinsic [dN/dGpc3/dYr]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;rate Intrinsic [dN/dGpc3/dYr]&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_cosmicIntegration_5_MergersAsFunctionOfRedhisft_27_1.png" src="../../_images/notebooks_cosmicIntegration_5_MergersAsFunctionOfRedhisft_27_1.png" />
</div>
</div>
</div>
<div class="section" id="3.2-Example-mask-rate-by-mass,-and-observed-rate">
<h3>3.2 Example mask rate by mass, and observed rate<a class="headerlink" href="#3.2-Example-mask-rate-by-mass,-and-observed-rate" title="Permalink to this headline">¶</a></h3>
<p>The columns in the 2D array relate to the individual systems. They are ordered the same as the systems in the COMPAS class, so we can use the parameters in the COMPAS class to create a mask for our result! (hence the lazy data).</p>
<p>A detector looks at all redshifts simultaneously, so we sum the rate of each system from every shell in the detector frame (i.e. collapse to an array whose length is the number of systems).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ratePerSystemObserved</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesObserved</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ratePerSystemObserved</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

304
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># plot chirp mass distribution</span>

<span class="n">chirpMass</span>  <span class="o">=</span> <span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">mChirp</span>
<span class="c1">#for every chirpmass I know the rate at which you observe</span>
<span class="n">ratePerSystemObserved</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesObserved</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#I only want systems with chirp masses below 10 Msun (for some reason)</span>
<span class="n">mask</span>      <span class="o">=</span> <span class="n">chirpMass</span> <span class="o">&lt;</span> <span class="mi">10</span>


<span class="n">binsMchirp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">dMchirp</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">binsMchirp</span><span class="p">)</span>
<span class="n">center</span>     <span class="o">=</span> <span class="p">(</span><span class="n">binsMchirp</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">+</span><span class="n">binsMchirp</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">2.</span>

<span class="n">yvalues</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">chirpMass</span><span class="p">[</span><span class="n">mask</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">binsMchirp</span><span class="p">,</span> \
                          <span class="n">weights</span><span class="o">=</span><span class="n">ratePerSystemObserved</span><span class="p">[</span><span class="n">mask</span><span class="p">])</span>

<span class="n">dydMchirp</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">yvalues</span><span class="p">,</span> <span class="n">dMchirp</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">dydMchirp</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Mchirp Msun&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;rate detect dN/dyr/dMchirp&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_cosmicIntegration_5_MergersAsFunctionOfRedhisft_30_0.png" src="../../_images/notebooks_cosmicIntegration_5_MergersAsFunctionOfRedhisft_30_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="4.-Loop-over-the-cosmic-integrator">
<h2>4. Loop over the cosmic integrator<a class="headerlink" href="#4.-Loop-over-the-cosmic-integrator" title="Permalink to this headline">¶</a></h2>
<p>Once the class is set, you could quickly change prescription or DCO type and recalculate without having to redo the entire instance. This especially saves time in terms of reading/setting the COMPAS class data,and preparing the 2D arrays in the CosmicIntegrator class. The exception being if you loop over the data or change the redshift shells. We provide an example in both cases.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># loop over prescriptions using the already defined class</span>

<span class="c1">#data and redshift shells remain unchanged</span>
<span class="n">SFRprescriptions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Madau et al. (2014)&#39;</span><span class="p">,</span>\
                    <span class="s1">&#39;Madau et al. (2017)&#39;</span><span class="p">,</span>\
                    <span class="s1">&#39;Strolger et al. (2004)&#39;</span><span class="p">,</span>\
                    <span class="s1">&#39;Neijssel et al. (2019)&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">SFRprescription</span> <span class="ow">in</span> <span class="n">SFRprescriptions</span><span class="p">:</span>
    <span class="c1">#change SFR</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">MSSFR</span><span class="o">.</span><span class="n">SFRprescription</span> <span class="o">=</span> <span class="n">SFRprescription</span>
    <span class="c1">#calculate the result</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">cosmologicalIntegration</span><span class="p">()</span>
    <span class="c1">#print the total observed rate</span>
    <span class="n">observedRate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesObserved</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total predicted rate for </span><span class="si">%s</span><span class="s1"> for SFR=</span><span class="si">%s</span><span class="s1"> mergers per year&#39;</span> \
          <span class="o">%</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">GWdetector_sensitivity</span><span class="p">,</span> <span class="n">observedRate</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

total predicted rate for O1 for SFR=174.0 mergers per year
total predicted rate for O1 for SFR=137.0 mergers per year
total predicted rate for O1 for SFR=299.0 mergers per year
total predicted rate for O1 for SFR=158.0 mergers per year
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># loop over prescriptions using the already defined class</span>

<span class="c1">#careful the SFR is still the one of the previous cell!</span>

<span class="c1">#loop over DCO types changing the Data</span>
<span class="c1">#This takes longer</span>

<span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BBH&#39;</span><span class="p">,</span> <span class="s1">&#39;BHNS&#39;</span><span class="p">,</span> <span class="s1">&#39;BNS&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>

    <span class="c1"># which DCOs I want</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">setCOMPASDCOmask</span><span class="p">(</span><span class="n">types</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">pessimistic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Get me the data</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">COMPAS</span><span class="o">.</span><span class="n">setCOMPASData</span><span class="p">()</span>

    <span class="c1">#the number of systems and their delay times have changed</span>
    <span class="c1">#reset arrays results. Note that this goes considerably faster</span>
    <span class="c1">#then the first time we do this, because we dont recalculate</span>
    <span class="c1">#the redshift table if it is already done :) :) :)</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">setBirthTimesAnd2Darrays</span><span class="p">()</span>

    <span class="c1">#calculate</span>
    <span class="n">CI</span><span class="o">.</span><span class="n">cosmologicalIntegration</span><span class="p">()</span>

    <span class="c1">#print the total observed rate</span>
    <span class="n">observedRate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">CI</span><span class="o">.</span><span class="n">PerSystemPerRedshift_ratesObserved</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------total predicted rate for </span><span class="si">%s</span><span class="s1"> =</span><span class="si">%s</span><span class="s1"> mergers per year&#39;</span> \
          <span class="o">%</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">observedRate</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

------total predicted rate for BBH =158.0 mergers per year
------total predicted rate for BHNS =2.0 mergers per year
------total predicted rate for BNS =0.0 mergers per year
</pre></div></div>
</div>
<p>Note that his means if you want to loop over both DCO types and SFR prescriptions, it is more time-efficient to loop over types first and then SFR prescriptions.</p>
<p>With this you should be all set - good luck!</p>
<p>For more information on how to create plots using this pipeline see the plotting library in the postProcessing notes.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="6_FastCosmicIntegrator.html" class="btn btn-neutral float-right" title="The fast cosmic integration module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="4_MergersAtSingleRedshift.html" class="btn btn-neutral float-left" title="Rate at a single redshift" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>