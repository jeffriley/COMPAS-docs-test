

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>rewrite_H5.py &mdash; COMPAS  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/COMPAS.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Convert CSV files to HDF5" href="1_creatingH5.html" />
    <link rel="prev" title="h5view.py" href="../../post-processing-h5view.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> COMPAS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../user-guide.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../program-options.html">Program options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grid-files.html">Grid files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../random-seed.html">Random seed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-cmdline.html">Running COMPAS from the command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-python.html">Running COMPAS via Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../running-via-docker.html">Running COMPAS via Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output.html">COMPAS Output</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../post-processing.html">Post-processing tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../post-processing-python-basics.html">Some Python basics</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../post-processing-hdf5.html">Processing HDF5 files</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../post-processing-hdf5-info.html">HDF5 basics</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../post-processing-hdf5-tools.html">COMPAS HDF5 tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../post-processing-cosmic-integration.html">Cosmic integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../example-compas-run.html">Tutorial: simple COMPAS run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer-guide.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS"> Code repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Request an enhancement</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/TeamCOMPAS/COMPAS/issues/new"> Report a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact-us.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">COMPAS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../user-guide.html">User guide</a> &raquo;</li>
        
          <li><a href="../../post-processing.html">Post-processing tools</a> &raquo;</li>
        
          <li><a href="../../post-processing-hdf5.html">Processing HDF5 files</a> &raquo;</li>
        
          <li><a href="../../post-processing-hdf5-tools.html">COMPAS HDF5 tools</a> &raquo;</li>
        
      <li>rewrite_H5.py</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="rewrite_H5.py">
<h1>rewrite_H5.py<a class="headerlink" href="#rewrite_H5.py" title="Permalink to this headline">¶</a></h1>
<div class="section" id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this headline">¶</a></h2>
<p>The COMPAS simulations might be very large in data size while the actual data you need to reproduce your results could be small, so it might make sense to reduce the number of files and columns based on some criteria.</p>
<p>Here we show how you can reduce your data. The main things you need are:</p>
<p>1 - The seeds you want to have in your data.</p>
<p>2 - The files you want in your data.</p>
<p>3 - The columns (parameters) you want for each file.</p>
<p>The plain Python script to do this is <code class="docutils literal notranslate"><span class="pre">$COMPAS_ROOT_DIR/postProcessing/Folders/H5/rewrite_H5.py</span></code>. Here we just show an example of how to call the script in order to reduce the data.</p>
<div class="section" id="1.1-Paths-needed">
<h3>1.1 Paths needed<a class="headerlink" href="#1.1-Paths-needed" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set the appropriate paths to the input and output data files</span>

<span class="n">pathToDataInput</span>  <span class="o">=</span> <span class="s1">&#39;../COMPAS_Output.h5&#39;</span>
<span class="n">pathToDataOutput</span> <span class="o">=</span> <span class="s1">&#39;../COMPAS_Output_reduced.h5&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="1.2-Imports">
<h3>1.2 Imports<a class="headerlink" href="#1.2-Imports" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">h5py</span>  <span class="k">as</span> <span class="nn">h5</span>  <span class="c1"># For handling data format</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Import the rewrite_H5.py script</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;PythonScripts/&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">rewrite_H5</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="2.-Load-the-Data">
<h2>2. Load the Data<a class="headerlink" href="#2.-Load-the-Data" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Data</span>  <span class="o">=</span> <span class="n">h5</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">pathToDataInput</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The main files I have at my disposal are:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The main files I have at my disposal are:
 [&#39;BSE_Common_Envelopes&#39;, &#39;BSE_Double_Compact_Objects&#39;, &#39;BSE_RLOF&#39;, &#39;BSE_Supernovae&#39;, &#39;BSE_System_Parameters&#39;, &#39;Run_Details&#39;]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># To see the parameter choices in each file, use, e.g:</span>
<span class="c1">#print(list(Data[&#39;BSE_System_Parameters&#39;]))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3.-Specify-which-files-and-columns-you-want">
<h2>3. Specify which files and columns you want<a class="headerlink" href="#3.-Specify-which-files-and-columns-you-want" title="Permalink to this headline">¶</a></h2>
<p>We use dictionaries to specifically link all the entries:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">filesOfInterest</span></code> dictionary should contain all files which hold any relevant data.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">columnsOfInterest</span></code> dictionary specifies the parameters in each file that you want to be included in the new output HDF5 file.</p></li>
<li><p>Any filters or masks should be used to determine the <code class="docutils literal notranslate"><span class="pre">seedsOfInterest</span></code> (on a per file basis), and so do not need to be included in the <code class="docutils literal notranslate"><span class="pre">columnsOfInterest</span></code> dictionary.</p></li>
</ul>
<div class="section" id="3.1-Hypothetical-example">
<h3>3.1 Hypothetical example<a class="headerlink" href="#3.1-Hypothetical-example" title="Permalink to this headline">¶</a></h3>
<p>Suppose you are studying double neutron star (DNS) systems, and you want to know the initial parameters of both components. Suppose you are separately curious about the eccentricity of systems following a supernova (SN) that leaves the binary intact, and you want to use the same COMPAS run to save on CPU hours.</p>
<ul class="simple">
<li><p>To be safe, you should probably keep the entire <code class="docutils literal notranslate"><span class="pre">BSE_System_Parameters</span></code> file, which contains all of the initial system settings.</p></li>
<li><p>To get information about only DNSs, you will need to create a mask for them from the <code class="docutils literal notranslate"><span class="pre">BSE_Double_Compact_Objects</span></code> file.</p></li>
<li><p>Information on post-SN eccentricity and whether or not the system disrupted is found in the <code class="docutils literal notranslate"><span class="pre">BSE_Supernovae</span></code> file.</p></li>
</ul>
<p>You will not need any other files. You will also want to grab the ‘SEED’ column from any file, since the seed is the unique identifier of each binary.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Which files do you want?</span>
<span class="n">filesOfInterest</span>   <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s1">&#39;BSE_System_Parameters&#39;</span><span class="p">,</span>\
                     <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;BSE_Double_Compact_Objects&#39;</span><span class="p">,</span>\
                     <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;BSE_Supernovae&#39;</span><span class="p">}</span>

<span class="c1"># Give a list of columns you want, if you want all, say [&#39;All&#39;]</span>
<span class="n">columnsOfInterest</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:[</span><span class="s1">&#39;All&#39;</span><span class="p">],</span>\
                     <span class="mi">2</span><span class="p">:[</span><span class="s1">&#39;All&#39;</span><span class="p">],</span>\
                     <span class="mi">3</span><span class="p">:[</span><span class="s1">&#39;SEED&#39;</span><span class="p">,</span> <span class="s1">&#39;Eccentricity&#39;</span><span class="p">]}</span>

<span class="c1"># The seedsOfInterest are a little more involved</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="4.-Which-seeds-do-I-want-per-file?">
<h2>4. Which seeds do I want per file?<a class="headerlink" href="#4.-Which-seeds-do-I-want-per-file?" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">### Do not filter out any systems/seeds from SystemParameters</span>

<span class="n">seedsSystems</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;BSE_System_Parameters&#39;</span><span class="p">][</span><span class="s1">&#39;SEED&#39;</span><span class="p">][()]</span>



<span class="c1">### Of all the double compact objects, keep only the DNSs</span>

<span class="n">DCOs</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;BSE_Double_Compact_Objects&#39;</span><span class="p">]</span>
<span class="n">seedsDCOs</span>       <span class="o">=</span>  <span class="n">DCOs</span><span class="p">[</span><span class="s1">&#39;SEED&#39;</span><span class="p">][()]</span>

<span class="n">typePrimary</span>     <span class="o">=</span>  <span class="n">DCOs</span><span class="p">[</span><span class="s1">&#39;Stellar_Type(1)&#39;</span><span class="p">][()]</span>
<span class="n">typeSecondary</span>   <span class="o">=</span>  <span class="n">DCOs</span><span class="p">[</span><span class="s1">&#39;Stellar_Type(2)&#39;</span><span class="p">][()]</span>
<span class="n">DNSs</span>            <span class="o">=</span>  <span class="p">(</span><span class="n">typePrimary</span> <span class="o">==</span> <span class="mi">13</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">typeSecondary</span> <span class="o">==</span> <span class="mi">13</span><span class="p">)</span>

<span class="n">seedsDNS</span>        <span class="o">=</span>  <span class="n">seedsDCOs</span><span class="p">[</span><span class="n">DNSs</span><span class="p">]</span>



<span class="c1">### Filter out disrupted systems</span>

<span class="n">SNe</span>  <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;BSE_Supernovae&#39;</span><span class="p">]</span>
<span class="n">seedsSNe</span>     <span class="o">=</span> <span class="n">SNe</span><span class="p">[</span><span class="s1">&#39;SEED&#39;</span><span class="p">]</span>


<span class="n">isUnbound</span>    <span class="o">=</span> <span class="n">SNe</span><span class="p">[</span><span class="s1">&#39;Unbound&#39;</span><span class="p">][()]</span>
<span class="n">intact</span>       <span class="o">=</span> <span class="p">(</span><span class="n">isUnbound</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>

<span class="n">seedsIntact</span>  <span class="o">=</span> <span class="n">seedsSNe</span><span class="p">[</span><span class="n">intact</span><span class="p">]</span>



<span class="c1">### Create seedsOfInterest dictionary -- DOUBLE CHECK ORDER :)</span>

<span class="n">seedsOfInterest</span>   <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="n">seedsSystems</span><span class="p">,</span>\
                     <span class="mi">2</span><span class="p">:</span><span class="n">seedsDCOs</span><span class="p">,</span>\
                     <span class="mi">3</span><span class="p">:</span><span class="n">seedsIntact</span><span class="p">}</span>


<span class="c1"># Don&#39;t forget to close the original h5 data file</span>
<span class="n">Data</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="5.-Call-the-function-that-creates-the-HDF5-file">
<h2>5. Call the function that creates the HDF5 file<a class="headerlink" href="#5.-Call-the-function-that-creates-the-HDF5-file" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rewrite_H5</span><span class="o">.</span><span class="n">reduceH5</span><span class="p">(</span><span class="n">pathToOld</span> <span class="o">=</span> <span class="n">pathToDataInput</span><span class="p">,</span> <span class="n">pathToNew</span> <span class="o">=</span> <span class="n">pathToDataOutput</span><span class="p">,</span>\
                     <span class="n">dictFiles</span><span class="o">=</span><span class="n">filesOfInterest</span><span class="p">,</span> <span class="n">dictColumns</span><span class="o">=</span><span class="n">columnsOfInterest</span><span class="p">,</span> <span class="n">dictSeeds</span><span class="o">=</span><span class="n">seedsOfInterest</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rewrite_H5</span><span class="o">.</span><span class="n">printAllColumnsInH5</span><span class="p">(</span><span class="n">pathToDataOutput</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Filename = BSE_Double_Compact_Objects
----------------------
           column name                             unit                length
           --------------------------------------------------------------------
           Coalescence_Time                        b&#39;Myr&#39;                 143
           Eccentricity@DCO                        b&#39;-&#39;                   143
           Mass(1)                                 b&#39;Msol&#39;                143
           Mass(2)                                 b&#39;Msol&#39;                143
           Merges_Hubble_Time                      b&#39;State&#39;               143
           --------------------------------------------------------------------
           Recycled_NS(1)                          b&#39;Event&#39;               143
           Recycled_NS(2)                          b&#39;Event&#39;               143
           SEED                                    b&#39;-&#39;                   143
           SemiMajorAxis@DCO                       b&#39;AU&#39;                  143
           Stellar_Type(1)                         b&#39;-&#39;                   143
           --------------------------------------------------------------------
           Stellar_Type(2)                         b&#39;-&#39;                   143
           Time                                    b&#39;Myr&#39;                 143

Filename = BSE_Supernovae
----------------------
           column name                             unit                length
           --------------------------------------------------------------------
           Eccentricity                            b&#39;-&#39;                   2592
           SEED                                    b&#39;-&#39;                   2592

Filename = BSE_System_Parameters
----------------------
           column name                             unit                length
           --------------------------------------------------------------------
           CE_Alpha                                b&#39;-&#39;                   50000
           Eccentricity@ZAMS                       b&#39;-&#39;                   50000
           Equilibrated_At_Birth                   b&#39;Event&#39;               50000
           Error                                   b&#39;-&#39;                   50000
           LBV_Factor                              b&#39;-&#39;                   50000
           --------------------------------------------------------------------
           Mass@ZAMS(1)                            b&#39;Msol&#39;                50000
           Mass@ZAMS(2)                            b&#39;Msol&#39;                50000
           Merger                                  b&#39;Event&#39;               50000
           Merger_At_Birth                         b&#39;Event&#39;               50000
           Metallicity@ZAMS(1)                     b&#39;-&#39;                   50000
           --------------------------------------------------------------------
           Metallicity@ZAMS(2)                     b&#39;-&#39;                   50000
           Omega@ZAMS(1)                           b&#39;Hz&#39;                  50000
           Omega@ZAMS(2)                           b&#39;Hz&#39;                  50000
           SEED                                    b&#39;-&#39;                   50000
           SN_Kick_Magnitude_Random_Number(1)      b&#39;-&#39;                   50000
           --------------------------------------------------------------------
           SN_Kick_Magnitude_Random_Number(2)      b&#39;-&#39;                   50000
           SN_Kick_Mean_Anomaly(1)                 b&#39;-&#39;                   50000
           SN_Kick_Mean_Anomaly(2)                 b&#39;-&#39;                   50000
           SN_Kick_Phi(1)                          b&#39;-&#39;                   50000
           SN_Kick_Phi(2)                          b&#39;-&#39;                   50000
           --------------------------------------------------------------------
           SN_Kick_Theta(1)                        b&#39;-&#39;                   50000
           SN_Kick_Theta(2)                        b&#39;-&#39;                   50000
           SemiMajorAxis@ZAMS                      b&#39;AU&#39;                  50000
           Sigma_Kick_CCSN_BH                      b&#39;kms^-1&#39;              50000
           Sigma_Kick_CCSN_NS                      b&#39;kms^-1&#39;              50000
           --------------------------------------------------------------------
           Sigma_Kick_ECSN                         b&#39;kms^-1&#39;              50000
           Sigma_Kick_USSN                         b&#39;kms^-1&#39;              50000
           Stellar_Type(1)                         b&#39;-&#39;                   50000
           Stellar_Type(2)                         b&#39;-&#39;                   50000
           Stellar_Type@ZAMS(1)                    b&#39;-&#39;                   50000
           --------------------------------------------------------------------
           Stellar_Type@ZAMS(2)                    b&#39;-&#39;                   50000
           Unbound                                 b&#39;State&#39;               50000
           WR_Factor                               b&#39;-&#39;                   50000
</pre></div></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="1_creatingH5.html" class="btn btn-neutral float-right" title="Convert CSV files to HDF5" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../post-processing-h5view.html" class="btn btn-neutral float-left" title="h5view.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>